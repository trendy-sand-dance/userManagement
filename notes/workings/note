
i am building a simple server with node.js, fastify in typescript. i have a docker-compose to create a container with a dockerfile. the dockerfile looks like this:

FROM node:latest

WORKDIR /app

COPY conf/package.json conf/package-lock.json ./

RUN npm install -g npm@11.2.0 \
&& npm install fastify \
&& npm install -D typescript @types/node nodemon ts-node

RUN export NODE_ENV=production

EXPOSE 3000

CMD ["npm", "run", "dev"]

i have a conf directory with the tsconfig.json, package.json and package-lock.json, my server.ts file is in a src directory.

my package.json looks like this:
{
"name": "fastify-app",
"version": "1.0.0",
"main": "server.ts",
"type": "module",
"scripts": {
"dev": "ts-node server.ts",
"build": "tsc -p tsconfig.json",
"start": "node server.ts"
},
"keywords": [],
"author": "",
"license": "ISC",
"dependencies": {
"@fastify/formbody": "^8.0.2",
"@fastify/static": "^8.1.1",
"@fastify/view": "^10.0.2",
"better-sqlite3": "^11.8.1",
"ejs": "^3.1.10",
"fastify": "^5.2.1"
},
"devDependencies": {
"nodemon": "^3.1.9",
"fastify": "^5.2.1",
"typescript": "^5.0.0",
"ts-node": "^10.9.1",
"@types/node": "^20.0.0"
},
"description": ""
}

and my tsconfig.json looks like this:
{
"compilerOptions": {
"target": "ESNext",
"module": "NodeNext",
"moduleResolution": "NodeNext",
"outDir": "./dist",
"rootDir": "./fastify",
"strict": true,
"esModuleInterop": true,
"skipLibCheck": true,
"forceConsistentCasingInFileNames": true
},
"include": ["fastify"],
"exclude": ["node_modules", "**/*.spec.ts"]
}

when i build, the node_modules directory which gets created in the outter layer of the project in the same directory as the dockerfile in the directory called fastify but it is always empty and after sucessfully building the container i check the logs and see this:
âžœ build git:(main) make logs
docker-compose logs
fastify | npm error code ENOENT
fastify | npm error syscall open
fastify | npm error path /app/package.json
fastify | npm error errno -2
fastify | npm error enoent Could not read package.json: Error: ENOENT: no such file or directory, open '/app/package.json'
fastify | npm error enoent This is related to npm not being able to find a file.
fastify | npm error enoent
fastify | npm error A complete log of this run can be found in: /root/.npm/_logs/2025-03-10T15_48_06_062Z-debug-0.log


what am i doing wrong?